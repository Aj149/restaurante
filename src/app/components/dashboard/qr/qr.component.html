@if (datosFactura) {

  <div class="factura-container">
    <h2 class="titulo">üçΩ Factura Electr√≥nica</h2>
    <p><strong>Fecha:</strong> {{ datosFactura.fecha | date:'fullDate' }} {{ datosFactura.fecha | date:'shortTime' }}</p>

    <p><strong>Cliente:</strong> 
      {{ datosFactura.usuario?.nombre && datosFactura.usuario?.apellido
         ? datosFactura.usuario.nombre + ' ' + datosFactura.usuario.apellido
         : 'No especificado' }}
    </p>

    <h3>üßæ Detalle del Pedido</h3>

    @if (datosFactura.detalles) {

      <table class="tabla-factura">
        <thead>
          <tr>
            <th>Plato</th>
            <th>Cantidad</th>
            <th>Precio</th>
          </tr>
        </thead>
        <tbody>
          @for (detalle of datosFactura.detalles; track detalle) {
            @if (detalle.cantidad > 0) {

              <tr>
                <td>{{ detalle.plato?.nombre }}</td>
                <td>{{ detalle.cantidad }}</td>
                <td>${{ detalle.precio_unitario }}</td>
              </tr>
            }
          }
        </tbody>
      </table>
    }

    <div class="resumen">
      <p><strong>Subtotal:</strong> ${{ datosFactura.total }}</p>
      <p><strong>IVA:</strong> ${{ datosFactura.iva }}</p>
      <p><strong>Total:</strong> ${{ datosFactura.total_final }}</p>
    </div>

    <p class="agradecimiento">¬°Gracias por su pedido! üéâ</p>
  </div>
}

@if (!datosFactura) {

  <div>
    <p>No se encontr√≥ la informaci√≥n de la factura.</p>
  </div>
}
